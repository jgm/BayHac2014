<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Text.Pandoc.JSON</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Text-Pandoc-JSON.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">pandoc-types-1.12.3.3: Types for representing a structured document</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Copyright</th><td>Copyright (C) 2013 John MacFarlane</td></tr><tr><th>License</th><td>GNU GPL, version 2 or above</td></tr><tr><th>Maintainer</th><td>John MacFarlane &lt;jgm@berkeley.edu&gt;</td></tr><tr><th>Stability</th><td>alpha</td></tr><tr><th>Portability</th><td>portable</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell98</td></tr></table><p class="caption">Text.Pandoc.JSON</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Functions for serializing the Pandoc AST to JSON and deserializing from JSON.</p><p>Example of use:  The following script (<code>capitalize.hs</code>) reads
reads a JSON representation of a Pandoc document from stdin,
and writes a JSON representation of a Pandoc document to stdout.
It changes all regular text in the document to uppercase, without
affecting URLs, code, tags, etc.  Run the script with</p><pre>pandoc -t json | runghc capitalize.hs | pandoc -f json</pre><p>or (making capitalize.hs executable)</p><pre>pandoc --filter ./capitalize.hs</pre><pre>#!/usr/bin/env runghc
import Text.Pandoc.JSON
import Data.Char (toUpper)

main :: IO ()
main = toJSONFilter capitalizeStrings

capitalizeStrings :: Inline -&gt; Inline
capitalizeStrings (Str s) = Str $ map toUpper s
capitalizeStrings x       = x</pre></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short">module <a href="Text-Pandoc-Definition.html">Text.Pandoc.Definition</a></li><li class="src short"><span class="keyword">class</span> <a href="#t:ToJSONFilter">ToJSONFilter</a> a <span class="keyword">where</span><ul class="subs"><li><a href="#v:toJSONFilter">toJSONFilter</a> :: a -&gt; <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.7.0.0/System-IO.html#t:IO">IO</a> ()</li></ul></li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src">module <a href="Text-Pandoc-Definition.html">Text.Pandoc.Definition</a></p></div><div class="top"><p class="src"><span class="keyword">class</span> <a name="t:ToJSONFilter" class="def">ToJSONFilter</a> a <span class="keyword">where</span></p><div class="doc"><p><code><a href="Text-Pandoc-JSON.html#v:toJSONFilter">toJSONFilter</a></code> convert a function into a filter that reads pandoc's
 JSON serialized output from stdin, transforms it by walking the AST
 and applying the specified function, and serializes the result as JSON
 to stdout.</p><p>For a straight transformation, use a function of type <code>a -&gt; a</code> or
 <code>a -&gt; IO a</code> where <code>a</code> = <code><a href="Text-Pandoc-Definition.html#t:Block">Block</a></code>, <code><a href="Text-Pandoc-Definition.html#t:Inline">Inline</a></code>,<code><a href="Text-Pandoc-Definition.html#t:Pandoc">Pandoc</a></code>, <code><a href="Text-Pandoc-Definition.html#t:Meta">Meta</a></code>, or <code><a href="Text-Pandoc-Definition.html#t:MetaValue">MetaValue</a></code>.</p><p>If your transformation needs to be sensitive to the script's arguments,
 use a function of type <code>[String] -&gt; a -&gt; a</code> (with <code>a</code> constrained as above).
 The <code>[String]</code> will be populated with the script's arguments.</p><p>An alternative is to use the type <code>Maybe Format -&gt; a -&gt; a</code>.
 This is appropriate when the first argument of the script (if present)
 will be the target format, and allows scripts to behave differently
 depending on the target format.  The pandoc executable automatically
 provides the target format as argument when scripts are called using
 the `--filter` option.</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:toJSONFilter" class="def">toJSONFilter</a> :: a -&gt; <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.7.0.0/System-IO.html#t:IO">IO</a> ()</p></div><div class="subs instances"><p id="control.i:ToJSONFilter" class="caption collapser" onclick="toggleSection('i:ToJSONFilter')">Instances</p><div id="section.i:ToJSONFilter" class="show"><table><tr><td class="src"><a href="Text-Pandoc-JSON.html#t:ToJSONFilter">ToJSONFilter</a> a =&gt; <a href="Text-Pandoc-JSON.html#t:ToJSONFilter">ToJSONFilter</a> ([<a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.7.0.0/Data-String.html#t:String">String</a>] -&gt; a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Data.html#t:Data">Data</a> a =&gt; <a href="Text-Pandoc-JSON.html#t:ToJSONFilter">ToJSONFilter</a> (a -&gt; <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.7.0.0/System-IO.html#t:IO">IO</a> [a])</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Data.html#t:Data">Data</a> a =&gt; <a href="Text-Pandoc-JSON.html#t:ToJSONFilter">ToJSONFilter</a> (a -&gt; [a])</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Text-Pandoc-Walk.html#t:Walkable">Walkable</a> a <a href="Text-Pandoc-Definition.html#t:Pandoc">Pandoc</a> =&gt; <a href="Text-Pandoc-JSON.html#t:ToJSONFilter">ToJSONFilter</a> (a -&gt; <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.7.0.0/System-IO.html#t:IO">IO</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Text-Pandoc-Walk.html#t:Walkable">Walkable</a> a <a href="Text-Pandoc-Definition.html#t:Pandoc">Pandoc</a> =&gt; <a href="Text-Pandoc-JSON.html#t:ToJSONFilter">ToJSONFilter</a> (a -&gt; a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Text-Pandoc-JSON.html#t:ToJSONFilter">ToJSONFilter</a> a =&gt; <a href="Text-Pandoc-JSON.html#t:ToJSONFilter">ToJSONFilter</a> (<a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Text-Pandoc-Definition.html#t:Format">Format</a> -&gt; a)</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.14.2</p></div></body></html>